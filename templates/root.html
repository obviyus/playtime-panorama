<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Playtime Panorama</title>
	<meta name="description" content="Build a wall of Steam cover art scaled by your playtime." />
	<meta property="og:type" content="website" />
	<meta property="og:title" content="Playtime Panorama" />
	<meta property="og:description"
		content="Turn your Steam history into a panorama of cover art, weighted by your playtime." />
	<meta property="og:image" content="https://github.com/obviyus/playtime-panorama/raw/main/screenshot.jpg" />
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:title" content="Playtime Panorama" />
	<meta name="twitter:description"
		content="See your Steam library visualized as a playtime-weighted panorama of cover art." />
	<meta name="twitter:image" content="https://github.com/obviyus/playtime-panorama/raw/main/screenshot.jpg" />
	<style>
		:root {
			color-scheme: dark;
			font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
			background-color: #080808;
			color: #f5f5f5;
		}

		body {
			margin: 0;
			min-height: 100vh;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			gap: 1.5rem;
			padding: 2rem;
			background-color: #080808;
		}

		main {
			max-width: 32rem;
			width: 100%;
			background-color: #0d0d0d;
			border: 1px solid #222;
			border-radius: 1rem;
			padding: 2rem;
			box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
		}

		h1 {
			margin: 0 0 0.75rem;
			font-size: clamp(1.75rem, 2vw + 1.2rem, 2.4rem);
			line-height: 1.1;
			letter-spacing: -0.02em;
		}

		p {
			margin: 0 0 1.25rem;
			color: #bbbbbb;
			line-height: 1.5;
		}

		form {
			display: grid;
			gap: 1.25rem;
		}

		label {
			font-weight: 600;
			color: #f1f1f1;
		}

		input {
			padding: 0.75rem 1rem;
			border-radius: 0.75rem;
			border: 1px solid #3d3d3d;
			background-color: #060606;
			color: inherit;
			font-size: 1rem;
			transition: border-color 150ms ease, box-shadow 150ms ease;
		}

		input:focus {
			outline: none;
			border-color: #ffffff;
			box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);
		}

		.form-actions {
			display: flex;
			flex-direction: column;
			gap: 0.85rem;
		}

		.cta-button {
			display: inline-flex;
			align-items: center;
			justify-content: center;
			gap: 0.55rem;
			padding: 0.78rem 1.1rem;
			border-radius: 0.85rem;
			border: 1px solid #2b2b2b;
			font-size: 1rem;
			font-weight: 600;
			background-color: #f6f6f6;
			color: #0d0d0d;
			text-decoration: none;
			text-align: center;
			transition: transform 150ms ease, box-shadow 150ms ease, background-color 150ms ease,
				border-color 150ms ease;
			cursor: pointer;
		}

		.cta-button:hover,
		.cta-button:focus-visible {
			transform: translateY(-1px);
			background-color: #ffffff;
			border-color: #3d3d3d;
			box-shadow: 0 12px 24px rgba(255, 255, 255, 0.18);
			outline: none;
		}

		.cta-button--deck {
			background-color: rgba(18, 18, 18, 0.92);
			color: #f3f3f3;
			border-color: #353535;
			box-shadow: 0 12px 24px rgba(0, 0, 0, 0.35);
		}

		.cta-button--deck:hover,
		.cta-button--deck:focus-visible {
			background-color: rgba(24, 24, 24, 0.96);
			border-color: #4a4a4a;
			box-shadow: 0 16px 28px rgba(0, 0, 0, 0.4);
		}

		.cta-button__icon {
			display: inline-flex;
			align-items: center;
			justify-content: center;
			width: 1.1rem;
			height: 1.1rem;
		}

		.cta-button__icon img {
			display: block;
			width: 100%;
			height: 100%;
		}

		.cta-button--deck .cta-button__icon img {
			filter: brightness(0) invert(1);
		}

		.cta-button__label {
			display: inline-flex;
			align-items: center;
			justify-content: center;
		}

		.privacy-tip {
			margin-top: 1.5rem;
			padding: 1.25rem;
			border-radius: 0.75rem;
			border: 1px solid rgba(255, 255, 255, 0.08);
			background: linear-gradient(145deg, rgba(22, 22, 22, 0.9), rgba(10, 10, 10, 0.8));
		}

		.privacy-tip p {
			margin: 0 0 0.85rem;
			color: #dddddd;
			font-weight: 600;
			letter-spacing: -0.01em;
		}

		.privacy-tip ol {
			margin: 0;
			padding-left: 1.25rem;
			color: #a7a7a7;
		}

		.privacy-tip li+li {
			margin-top: 0.5rem;
		}

		small {
			display: block;
			margin-top: 0.35rem;
			color: #8a8a8a;
		}

		footer {
			font-size: 0.875rem;
			color: #888888;
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 0.5rem;
		}

		footer a {
			color: inherit;
			text-decoration: none;
			font-weight: 500;
			transition: color 150ms ease;
		}

		footer a:hover {
			color: #f5f5f5;
		}

		.footer-attribution {
			display: flex;
			gap: 0.5rem;
			align-items: center;
			flex-wrap: wrap;
			justify-content: center;
		}
	</style>
</head>

<body>
	<main>
		<h1>Build your Playtime Panorama</h1>
		<p>Drop in a steamID64 or Steam username to generate a wall of cover art scaled by your playtime.</p>
		<form id="steam-form">
			<label for="steam-id">
				Username or steamID64
				<small>Examples: obviyus, 76561198814583839.</small>
			</label>
			<input id="steam-id" name="steam-id" placeholder="obviyus" required autocomplete="off" />
			<div class="form-actions">
				<button type="submit" class="cta-button" data-mode="all">
					<span class="cta-button__label">View all playtime collage</span>
				</button>
				<button type="submit" class="cta-button cta-button--deck" data-mode="deck">
					<span class="cta-button__icon" aria-hidden="true">
						<img src="https://upload.wikimedia.org/wikipedia/commons/7/7f/Steam_Deck_favicon.svg" alt="">
					</span>
					<span class="cta-button__label">View Steam&nbsp;Deck playtime</span>
				</button>
			</div>
		</form>
		<div class="privacy-tip">
			<p>Your Steam profile and playtime must be public for this to work.</p>
			<ol>
				<li>Visit your Steam profile in a browser and choose <strong>Edit Profile</strong>.</li>
				<li>Open <strong>My privacy settings</strong>.</li>
				<li>Set <strong>Game details</strong> to <strong>Public</strong> and uncheck “Always keep my total
					playtime private even if users can see my game details.”</li>
			</ol>
		</div>
	</main>
	<script>
		const form = document.getElementById('steam-form');

		const normalizeSteamIdentifier = (raw) => {
			if (typeof raw !== 'string') {
				return '';
			}

			const trimmed = raw.trim();
			if (!trimmed) {
				return '';
			}

			if (trimmed.includes('steamcommunity.com')) {
				const vanityMatch = trimmed.match(/steamcommunity\.com\/(?:id|profiles)\/([^/?#]+)/i);
				if (vanityMatch && vanityMatch[1]) {
					try {
						return decodeURIComponent(vanityMatch[1]);
					} catch {
						return vanityMatch[1];
					}
				}
			}

			return trimmed.replace(/^\/+/, '').replace(/\/$/, '');
		};

		form?.addEventListener('submit', event => {
			event.preventDefault();
			const formData = new FormData(form);
			const targetId = normalizeSteamIdentifier(formData.get('steam-id'));

			if (targetId) {
				const submitter = event.submitter;
				const mode = submitter?.dataset?.mode ?? 'all';
				const prefix = mode === 'deck' ? '/deck/' : '/';
				const url = prefix + encodeURIComponent(targetId);
				window.location.assign(url);
			}
		});
	</script>
	<footer>
		<a href="/leaderboard">View Leaderboard</a>
		<div class="footer-attribution">
			<span>Built by</span>
			<a href="https://github.com/obviyus" target="_blank" rel="noreferrer">@obviyus</a>
			<span>•</span>
			<a href="https://github.com/obviyus/playtime-panorama" target="_blank" rel="noreferrer">Source Code on
				GitHub</a>
		</div>
	</footer>
</body>

</html>